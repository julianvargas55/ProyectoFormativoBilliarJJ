package sena.jj.com.service;

import sena.jj.com.model.Admin;
import sena.jj.com.repository.AdminRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

@Service
public class AdminService {

    @Autowired
    private AdminRepository adminRepository;

    public Admin autenticar(String nombreDeAdmin, String password) {
        // 1. Busca el administrador por el nombre
        Admin admin = adminRepository.findByNombreDeAdmin(nombreDeAdmin).orElse(null);

        // 2. Si el administrador existe Y la contraseña coincide
        // **IMPORTANTE**: En una aplicación real, usarías BcryptPasswordEncoder para verificar la contraseña
        // Por ahora, para simplificar el ejemplo, asumiremos que las contraseñas son texto plano
        if (admin != null && admin.getPassword().equals(password)) {
            return admin; // Autenticación exitosa
        }

        return null; // Autenticación fallida
    }
}